<span title="LineNr "class="LineNr first-LineNr">1</span>  <span title="rustKeyword "class="rustKeyword">use</span><span title="Normal "class="Normal"> wgn;
</span><span title="LineNr "class="LineNr">2</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">3</span>  <span title="rustKeyword "class="rustKeyword">use</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">crate</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">{
</span><span title="LineNr "class="LineNr">4</span>  <span title="Normal "class="Normal">    </span><span title="rustModPath "class="rustModPath">backend</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">native_gpu_future, BindingResource,
</span><span title="LineNr "class="LineNr">5</span>  <span title="Normal "class="Normal">    BindingType, BufferDescriptor, 
</span><span title="LineNr "class="LineNr">6</span>  <span title="Normal "class="Normal">    PipelineLayoutDescriptor, RenderPipelineDescriptor,
</span><span title="LineNr "class="LineNr">7</span>  <span title="Normal "class="Normal">    TextureViewDescriptor, TextureViewDimension,
</span><span title="LineNr "class="LineNr">8</span>  <span title="Normal "class="Normal">};
</span><span title="LineNr "class="LineNr">9</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">10</span>  <span title="rustKeyword "class="rustKeyword">use</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">arrayvec</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">ArrayVec;
</span><span title="LineNr "class="LineNr">11</span>  <span title="rustKeyword "class="rustKeyword">use</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">smallvec</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">SmallVec;
</span><span title="LineNr "class="LineNr">12</span>  <span title="rustKeyword "class="rustKeyword">use</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">std</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">{</span><span title="rustModPath "class="rustModPath">ffi</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">CString, </span><span title="rustModPath "class="rustModPath">future</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">Future, </span><span title="rustModPath "class="rustModPath">ops</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">Range, ptr, slice};
</span><span title="LineNr "class="LineNr">13</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">14</span>  <span title="rustKeyword "class="rustKeyword">pub</span><span title="Normal "class="Normal"> </span><span title="rustTypedef "class="rustTypedef">type</span><span title="Normal "class="Normal"> </span><span title="rustIdentifier "class="rustIdentifier">AdapterId</span><span title="Normal "class="Normal"> </span><span title="rustOperator "class="rustOperator">&#61;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">wgc</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">id</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">AdapterId;
</span><span title="LineNr "class="LineNr">15</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">16</span>  <span title="rustKeyword "class="rustKeyword">pub</span><span title="rustPubScopeDelim "class="rustPubScopeDelim">(</span><span title="rustPubScopeCrate "class="rustPubScopeCrate">crate</span><span title="rustPubScopeDelim "class="rustPubScopeDelim">)</span><span title="Normal "class="Normal"> async </span><span title="rustKeyword "class="rustKeyword">fn</span><span title="Normal "class="Normal"> </span><span title="rustFuncName "class="rustFuncName">request_adapter</span><span title="Normal "class="Normal">(
</span><span title="LineNr "class="LineNr">17</span>  <span title="Normal "class="Normal">    options: </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="rustInvalidBareKeyword "class="rustInvalidBareKeyword">crate</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">RequestAdapterOptions</span><span title="rustOperator "class="rustOperator">&lt;</span><span title="rustLifetime "class="rustLifetime">&#39;_</span><span title="rustOperator "class="rustOperator">&gt;</span><span title="Normal "class="Normal">,
</span><span title="LineNr "class="LineNr">18</span>  <span title="Normal "class="Normal">    backends: </span><span title="rustModPath "class="rustModPath">wgt</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">BackendBit,
</span><span title="LineNr "class="LineNr">19</span>  <span title="Normal "class="Normal">) </span><span title="rustArrowCharacter "class="rustArrowCharacter">-&gt;</span><span title="Normal "class="Normal"> </span><span title="rustEnum "class="rustEnum">Option</span><span title="rustOperator "class="rustOperator">&lt;</span><span title="Normal "class="Normal">AdapterId</span><span title="rustOperator "class="rustOperator">&gt;</span><span title="Normal "class="Normal"> {
</span><span title="LineNr "class="LineNr">20</span>  <span title="Normal "class="Normal">    </span><span title="rustKeyword "class="rustKeyword">unsafe</span><span title="Normal "class="Normal"> </span><span title="rustKeyword "class="rustKeyword">extern</span><span title="Normal "class="Normal"> </span><span title="rustString "class="rustString">&quot;C&quot;</span><span title="Normal "class="Normal"> </span><span title="rustKeyword "class="rustKeyword">fn</span><span title="Normal "class="Normal"> </span><span title="rustFuncName "class="rustFuncName">adapter_callback</span><span title="Normal "class="Normal">(
</span><span title="LineNr "class="LineNr">21</span>  <span title="Normal "class="Normal">        id: </span><span title="rustEnum "class="rustEnum">Option</span><span title="rustOperator "class="rustOperator">&lt;</span><span title="rustModPath "class="rustModPath">wgc</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">id</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">AdapterId</span><span title="rustOperator "class="rustOperator">&gt;</span><span title="Normal "class="Normal">,
</span><span title="LineNr "class="LineNr">22</span>  <span title="Normal "class="Normal">        user_data: </span><span title="rustSigil "class="rustSigil">*</span><span title="rustStorage "class="rustStorage">mut</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">std</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">ffi</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">c_void,
</span><span title="LineNr "class="LineNr">23</span>  <span title="Normal "class="Normal">    ) {
</span><span title="LineNr "class="LineNr">24</span>  <span title="Normal "class="Normal">        </span><span title="rustSigil "class="rustSigil">*</span><span title="Normal "class="Normal">(user_data </span><span title="rustOperator "class="rustOperator">as</span><span title="Normal "class="Normal"> </span><span title="rustSigil "class="rustSigil">*</span><span title="rustStorage "class="rustStorage">mut</span><span title="Normal "class="Normal"> </span><span title="rustEnum "class="rustEnum">Option</span><span title="rustOperator "class="rustOperator">&lt;</span><span title="rustModPath "class="rustModPath">wgc</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">id</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">AdapterId</span><span title="rustOperator "class="rustOperator">&gt;</span><span title="Normal "class="Normal">) </span><span title="rustOperator "class="rustOperator">&#61;</span><span title="Normal "class="Normal"> id;
</span><span title="LineNr "class="LineNr">25</span>  <span title="Normal "class="Normal">    }
</span><span title="LineNr "class="LineNr">26</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">27</span>  <span title="Normal "class="Normal">    </span><span title="rustKeyword "class="rustKeyword">let</span><span title="Normal "class="Normal"> </span><span title="rustStorage "class="rustStorage">mut</span><span title="Normal "class="Normal"> id_maybe </span><span title="rustOperator "class="rustOperator">&#61;</span><span title="Normal "class="Normal"> </span><span title="rustEnumVariant "class="rustEnumVariant">None</span><span title="Normal "class="Normal">;
</span><span title="LineNr "class="LineNr">28</span>  <span title="Normal "class="Normal">    </span><span title="rustKeyword "class="rustKeyword">unsafe</span><span title="Normal "class="Normal"> {
</span><span title="LineNr "class="LineNr">29</span>  <span title="Normal "class="Normal">        </span><span title="rustModPath "class="rustModPath">wgn</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">wgpu_request_adapter_async</span><span title="Normal "class="Normal">(
</span><span title="LineNr "class="LineNr">30</span>  <span title="Normal "class="Normal">            </span><span title="rustEnumVariant "class="rustEnumVariant">Some</span><span title="Normal "class="Normal">(</span><span title="rustSigil "class="rustSigil">&amp;</span><span title="rustModPath "class="rustModPath">wgc</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">instance</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">RequestAdapterOptions {
</span><span title="LineNr "class="LineNr">31</span>  <span title="Normal "class="Normal">                power_preference: options.power_preference,
</span><span title="LineNr "class="LineNr">32</span>  <span title="Normal "class="Normal">            }),
</span><span title="LineNr "class="LineNr">33</span>  <span title="Normal "class="Normal">            backends,
</span><span title="LineNr "class="LineNr">34</span>  <span title="Normal "class="Normal">            adapter_callback,
</span><span title="LineNr "class="LineNr">35</span>  <span title="Normal "class="Normal">            </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="rustStorage "class="rustStorage">mut</span><span title="Normal "class="Normal"> id_maybe </span><span title="rustOperator "class="rustOperator">as</span><span title="Normal "class="Normal"> </span><span title="rustSigil "class="rustSigil">*</span><span title="rustStorage "class="rustStorage">mut</span><span title="Normal "class="Normal"> _ </span><span title="rustOperator "class="rustOperator">as</span><span title="Normal "class="Normal"> </span><span title="rustSigil "class="rustSigil">*</span><span title="rustStorage "class="rustStorage">mut</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">std</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">ffi</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">c_void,
</span><span title="LineNr "class="LineNr">36</span>  <span title="Normal "class="Normal">        )
</span><span title="LineNr "class="LineNr">37</span>  <span title="Normal "class="Normal">    };
</span><span title="LineNr "class="LineNr">38</span>  <span title="Normal "class="Normal">    id_maybe
</span><span title="LineNr "class="LineNr">39</span>  <span title="Normal "class="Normal">}
</span><span title="LineNr "class="LineNr">40</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">41</span>  <span title="rustKeyword "class="rustKeyword">pub</span><span title="rustPubScopeDelim "class="rustPubScopeDelim">(</span><span title="rustPubScopeCrate "class="rustPubScopeCrate">crate</span><span title="rustPubScopeDelim "class="rustPubScopeDelim">)</span><span title="Normal "class="Normal"> async </span><span title="rustKeyword "class="rustKeyword">fn</span><span title="Normal "class="Normal"> </span><span title="rustFuncName "class="rustFuncName">request_device_and_queue</span><span title="Normal "class="Normal">(
</span><span title="LineNr "class="LineNr">42</span>  <span title="Normal "class="Normal">    adapter: </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="Normal "class="Normal">AdapterId,
</span><span title="LineNr "class="LineNr">43</span>  <span title="Normal "class="Normal">    desc: </span><span title="rustEnum "class="rustEnum">Option</span><span title="rustOperator "class="rustOperator">&lt;</span><span title="rustSigil "class="rustSigil">&amp;</span><span title="rustModPath "class="rustModPath">wgt</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">DeviceDescriptor</span><span title="rustOperator "class="rustOperator">&gt;</span><span title="Normal "class="Normal">,
</span><span title="LineNr "class="LineNr">44</span>  <span title="Normal "class="Normal">) </span><span title="rustArrowCharacter "class="rustArrowCharacter">-&gt;</span><span title="Normal "class="Normal"> (DeviceId, QueueId) {
</span><span title="LineNr "class="LineNr">45</span>  <span title="Normal "class="Normal">    </span><span title="rustKeyword "class="rustKeyword">let</span><span title="Normal "class="Normal"> device_id </span><span title="rustOperator "class="rustOperator">&#61;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">wgn</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">wgpu_adapter_request_device</span><span title="Normal "class="Normal">(</span><span title="rustSigil "class="rustSigil">*</span><span title="Normal "class="Normal">adapter, desc);
</span><span title="LineNr "class="LineNr">46</span>  <span title="Normal "class="Normal">    (device_id, </span><span title="rustModPath "class="rustModPath">wgn</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">wgpu_device_get_default_queue</span><span title="Normal "class="Normal">(device_id))
</span><span title="LineNr "class="LineNr">47</span>  <span title="Normal "class="Normal">}
</span><span title="LineNr "class="LineNr">48</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">49</span>  <span title="rustKeyword "class="rustKeyword">pub</span><span title="rustPubScopeDelim "class="rustPubScopeDelim">(</span><span title="rustPubScopeCrate "class="rustPubScopeCrate">crate</span><span title="rustPubScopeDelim "class="rustPubScopeDelim">)</span><span title="Normal "class="Normal"> </span><span title="rustKeyword "class="rustKeyword">fn</span><span title="Normal "class="Normal"> </span><span title="rustFuncName "class="rustFuncName">create_shader_module</span><span title="Normal "class="Normal">(device: </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="Normal "class="Normal">DeviceId, spv: </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="Normal "class="Normal">[</span><span title="rustType "class="rustType">u32</span><span title="Normal "class="Normal">]) </span><span title="rustArrowCharacter "class="rustArrowCharacter">-&gt;</span><span title="Normal "class="Normal"> ShaderModuleId {
</span><span title="LineNr "class="LineNr">50</span>  <span title="Normal "class="Normal">    </span><span title="rustKeyword "class="rustKeyword">let</span><span title="Normal "class="Normal"> desc </span><span title="rustOperator "class="rustOperator">&#61;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">wgc</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">pipeline</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">ShaderModuleDescriptor {
</span><span title="LineNr "class="LineNr">51</span>  <span title="Normal "class="Normal">        code: </span><span title="rustModPath "class="rustModPath">wgc</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">U32Array {
</span><span title="LineNr "class="LineNr">52</span>  <span title="Normal "class="Normal">            bytes: spv.</span><span title="rustFuncCall "class="rustFuncCall">as_ptr</span><span title="Normal "class="Normal">(),
</span><span title="LineNr "class="LineNr">53</span>  <span title="Normal "class="Normal">            length: spv.</span><span title="rustFuncCall "class="rustFuncCall">len</span><span title="Normal "class="Normal">(),
</span><span title="LineNr "class="LineNr">54</span>  <span title="Normal "class="Normal">        },
</span><span title="LineNr "class="LineNr">55</span>  <span title="Normal "class="Normal">    };
</span><span title="LineNr "class="LineNr">56</span>  <span title="Normal "class="Normal">    </span><span title="rustModPath "class="rustModPath">wgn</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">wgpu_device_create_shader_module</span><span title="Normal "class="Normal">(</span><span title="rustSigil "class="rustSigil">*</span><span title="Normal "class="Normal">device, </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="Normal "class="Normal">desc)
</span><span title="LineNr "class="LineNr">57</span>  <span title="Normal "class="Normal">}
</span><span title="LineNr "class="LineNr">58</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">59</span>  <span title="rustKeyword "class="rustKeyword">pub</span><span title="rustPubScopeDelim "class="rustPubScopeDelim">(</span><span title="rustPubScopeCrate "class="rustPubScopeCrate">crate</span><span title="rustPubScopeDelim "class="rustPubScopeDelim">)</span><span title="Normal "class="Normal"> </span><span title="rustKeyword "class="rustKeyword">fn</span><span title="Normal "class="Normal"> </span><span title="rustFuncName "class="rustFuncName">create_bind_group_layout</span><span title="Normal "class="Normal">(
</span><span title="LineNr "class="LineNr">60</span>  <span title="Normal "class="Normal">    device: </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="Normal "class="Normal">DeviceId,
</span><span title="LineNr "class="LineNr">61</span>  <span title="Normal "class="Normal">    desc: </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="Normal "class="Normal">BindGroupLayoutDescriptor,
</span><span title="LineNr "class="LineNr">62</span>  <span title="Normal "class="Normal">) </span><span title="rustArrowCharacter "class="rustArrowCharacter">-&gt;</span><span title="Normal "class="Normal"> BindGroupLayoutId {
</span><span title="LineNr "class="LineNr">63</span>  <span title="Normal "class="Normal">    </span><span title="rustKeyword "class="rustKeyword">use</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">wgc</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">binding_model </span><span title="rustOperator "class="rustOperator">as</span><span title="Normal "class="Normal"> bm;
</span><span title="LineNr "class="LineNr">64</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">65</span>  <span title="Normal "class="Normal">    </span><span title="rustKeyword "class="rustKeyword">let</span><span title="Normal "class="Normal"> temp_layouts </span><span title="rustOperator "class="rustOperator">&#61;</span><span title="Normal "class="Normal"> desc
</span><span title="LineNr "class="LineNr">66</span>  <span title="Normal "class="Normal">        .bindings
</span><span title="LineNr "class="LineNr">67</span>  <span title="Normal "class="Normal">        .</span><span title="rustFuncCall "class="rustFuncCall">iter</span><span title="Normal "class="Normal">()
</span><span title="LineNr "class="LineNr">68</span>  <span title="Normal "class="Normal">        .</span><span title="rustFuncCall "class="rustFuncCall">map</span><span title="Normal "class="Normal">(</span><span title="rustOperator "class="rustOperator">|</span><span title="Normal "class="Normal">bind</span><span title="rustOperator "class="rustOperator">|</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">bm</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">BindGroupLayoutEntry {
</span><span title="LineNr "class="LineNr">69</span>  <span title="Normal "class="Normal">            binding: bind.binding,
</span><span title="LineNr "class="LineNr">70</span>  <span title="Normal "class="Normal">            visibility: bind.visibility,
</span><span title="LineNr "class="LineNr">71</span>  <span title="Normal "class="Normal">            ty: </span><span title="rustConditional "class="rustConditional">match</span><span title="Normal "class="Normal"> bind.ty {
</span><span title="LineNr "class="LineNr">72</span>  <span title="Normal "class="Normal">                </span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">UniformBuffer { .. } </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">bm</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">UniformBuffer,
</span><span title="LineNr "class="LineNr">73</span>  <span title="Normal "class="Normal">                </span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">StorageBuffer {
</span><span title="LineNr "class="LineNr">74</span>  <span title="Normal "class="Normal">                    readonly: </span><span title="rustBoolean "class="rustBoolean">false</span><span title="Normal "class="Normal">, ..
</span><span title="LineNr "class="LineNr">75</span>  <span title="Normal "class="Normal">                } </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">bm</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">StorageBuffer,
</span><span title="LineNr "class="LineNr">76</span>  <span title="Normal "class="Normal">                </span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">StorageBuffer { readonly: </span><span title="rustBoolean "class="rustBoolean">true</span><span title="Normal "class="Normal">, .. } </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> {
</span><span title="LineNr "class="LineNr">77</span>  <span title="Normal "class="Normal">                    </span><span title="rustModPath "class="rustModPath">bm</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">ReadonlyStorageBuffer
</span><span title="LineNr "class="LineNr">78</span>  <span title="Normal "class="Normal">                }
</span><span title="LineNr "class="LineNr">79</span>  <span title="Normal "class="Normal">                </span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">Sampler { comparison: </span><span title="rustBoolean "class="rustBoolean">false</span><span title="Normal "class="Normal"> } </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">bm</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">Sampler,
</span><span title="LineNr "class="LineNr">80</span>  <span title="Normal "class="Normal">                </span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">Sampler { .. } </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">bm</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">ComparisonSampler,
</span><span title="LineNr "class="LineNr">81</span>  <span title="Normal "class="Normal">                </span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">SampledTexture { .. } </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">bm</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">SampledTexture,
</span><span title="LineNr "class="LineNr">82</span>  <span title="Normal "class="Normal">                </span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">StorageTexture { readonly: </span><span title="rustBoolean "class="rustBoolean">true</span><span title="Normal "class="Normal">, .. } </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> {
</span><span title="LineNr "class="LineNr">83</span>  <span title="Normal "class="Normal">                    </span><span title="rustModPath "class="rustModPath">bm</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">ReadonlyStorageTexture
</span><span title="LineNr "class="LineNr">84</span>  <span title="Normal "class="Normal">                }
</span><span title="LineNr "class="LineNr">85</span>  <span title="Normal "class="Normal">                </span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">StorageTexture { .. } </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">bm</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">WriteonlyStorageTexture,
</span><span title="LineNr "class="LineNr">86</span>  <span title="Normal "class="Normal">            },
</span><span title="LineNr "class="LineNr">87</span>  <span title="Normal "class="Normal">            has_dynamic_offset: </span><span title="rustConditional "class="rustConditional">match</span><span title="Normal "class="Normal"> bind.ty {
</span><span title="LineNr "class="LineNr">88</span>  <span title="Normal "class="Normal">                </span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">UniformBuffer { dynamic }
</span><span title="LineNr "class="LineNr">89</span>  <span title="Normal "class="Normal">                </span><span title="rustOperator "class="rustOperator">|</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">StorageBuffer { dynamic, .. } </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> dynamic,
</span><span title="LineNr "class="LineNr">90</span>  <span title="Normal "class="Normal">                _ </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> </span><span title="rustBoolean "class="rustBoolean">false</span><span title="Normal "class="Normal">,
</span><span title="LineNr "class="LineNr">91</span>  <span title="Normal "class="Normal">            },
</span><span title="LineNr "class="LineNr">92</span>  <span title="Normal "class="Normal">            multisampled: </span><span title="rustConditional "class="rustConditional">match</span><span title="Normal "class="Normal"> bind.ty {
</span><span title="LineNr "class="LineNr">93</span>  <span title="Normal "class="Normal">                </span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">SampledTexture { multisampled, .. } </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> multisampled,
</span><span title="LineNr "class="LineNr">94</span>  <span title="Normal "class="Normal">                _ </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> </span><span title="rustBoolean "class="rustBoolean">false</span><span title="Normal "class="Normal">,
</span><span title="LineNr "class="LineNr">95</span>  <span title="Normal "class="Normal">            },
</span><span title="LineNr "class="LineNr">96</span>  <span title="Normal "class="Normal">            view_dimension: </span><span title="rustConditional "class="rustConditional">match</span><span title="Normal "class="Normal"> bind.ty {
</span><span title="LineNr "class="LineNr">97</span>  <span title="Normal "class="Normal">                </span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">SampledTexture { dimension, .. }
</span><span title="LineNr "class="LineNr">98</span>  <span title="Normal "class="Normal">                </span><span title="rustOperator "class="rustOperator">|</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">StorageTexture { dimension, .. } </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> dimension,
</span><span title="LineNr "class="LineNr">99</span>  <span title="Normal "class="Normal">                _ </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">TextureViewDimension</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">D2,
</span><span title="LineNr "class="LineNr">100</span>  <span title="Normal "class="Normal">            },
</span><span title="LineNr "class="LineNr">101</span>  <span title="Normal "class="Normal">            texture_component_type: </span><span title="rustConditional "class="rustConditional">match</span><span title="Normal "class="Normal"> bind.ty {
</span><span title="LineNr "class="LineNr">102</span>  <span title="Normal "class="Normal">                </span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">SampledTexture { component_type, .. }
</span><span title="LineNr "class="LineNr">103</span>  <span title="Normal "class="Normal">                </span><span title="rustOperator "class="rustOperator">|</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">StorageTexture { component_type, .. } </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> component_type,
</span><span title="LineNr "class="LineNr">104</span>  <span title="Normal "class="Normal">                _ </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">wgt</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">TextureComponentType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">Float,
</span><span title="LineNr "class="LineNr">105</span>  <span title="Normal "class="Normal">            },
</span><span title="LineNr "class="LineNr">106</span>  <span title="Normal "class="Normal">            storage_texture_format: </span><span title="rustConditional "class="rustConditional">match</span><span title="Normal "class="Normal"> bind.ty {
</span><span title="LineNr "class="LineNr">107</span>  <span title="Normal "class="Normal">                </span><span title="rustModPath "class="rustModPath">BindingType</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">StorageTexture { format, .. } </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> format,
</span><span title="LineNr "class="LineNr">108</span>  <span title="Normal "class="Normal">                _ </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">wgt</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">TextureFormat</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">Rgb10a2Unorm, </span><span title="rustCommentLine "class="rustCommentLine">// doesn&#39;t matter
</span><span title="LineNr "class="LineNr">109</span>  <span title="Normal "class="Normal">            },
</span><span title="LineNr "class="LineNr">110</span>  <span title="Normal "class="Normal">        })
</span><span title="LineNr "class="LineNr">111</span>  <span title="Normal "class="Normal">        .</span><span title="rustFuncCall "class="rustFuncCall">collect</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustOperator "class="rustOperator">&lt;</span><span title="rustTrait "class="rustTrait">Vec</span><span title="rustOperator "class="rustOperator">&lt;</span><span title="Normal "class="Normal">_</span><span title="rustOperator "class="rustOperator">&gt;&gt;</span><span title="Normal "class="Normal">();
</span><span title="LineNr "class="LineNr">112</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">113</span>  <span title="Normal "class="Normal">    </span><span title="rustKeyword "class="rustKeyword">let</span><span title="Normal "class="Normal"> owned_label </span><span title="rustOperator "class="rustOperator">&#61;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">OwnedLabel</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">new</span><span title="Normal "class="Normal">(desc.label.</span><span title="rustFuncCall "class="rustFuncCall">as_deref</span><span title="Normal "class="Normal">());
</span><span title="LineNr "class="LineNr">114</span>  <span title="Normal "class="Normal">    </span><span title="rustModPath "class="rustModPath">wgn</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">wgpu_device_create_bind_group_layout</span><span title="Normal "class="Normal">(
</span><span title="LineNr "class="LineNr">115</span>  <span title="Normal "class="Normal">        </span><span title="rustSigil "class="rustSigil">*</span><span title="Normal "class="Normal">device,
</span><span title="LineNr "class="LineNr">116</span>  <span title="Normal "class="Normal">        </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="rustModPath "class="rustModPath">bm</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">BindGroupLayoutDescriptor {
</span><span title="LineNr "class="LineNr">117</span>  <span title="Normal "class="Normal">            entries: temp_layouts.</span><span title="rustFuncCall "class="rustFuncCall">as_ptr</span><span title="Normal "class="Normal">(),
</span><span title="LineNr "class="LineNr">118</span>  <span title="Normal "class="Normal">            entries_length: temp_layouts.</span><span title="rustFuncCall "class="rustFuncCall">len</span><span title="Normal "class="Normal">(),
</span><span title="LineNr "class="LineNr">119</span>  <span title="Normal "class="Normal">            label: owned_label.</span><span title="rustFuncCall "class="rustFuncCall">as_ptr</span><span title="Normal "class="Normal">(),
</span><span title="LineNr "class="LineNr">120</span>  <span title="Normal "class="Normal">        },
</span><span title="LineNr "class="LineNr">121</span>  <span title="Normal "class="Normal">    )
</span><span title="LineNr "class="LineNr">122</span>  <span title="Normal "class="Normal">}
</span><span title="LineNr "class="LineNr">123</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">124</span>  <span title="rustKeyword "class="rustKeyword">pub</span><span title="rustPubScopeDelim "class="rustPubScopeDelim">(</span><span title="rustPubScopeCrate "class="rustPubScopeCrate">crate</span><span title="rustPubScopeDelim "class="rustPubScopeDelim">)</span><span title="Normal "class="Normal"> </span><span title="rustKeyword "class="rustKeyword">fn</span><span title="Normal "class="Normal"> </span><span title="rustFuncName "class="rustFuncName">create_bind_group</span><span title="Normal "class="Normal">(device: </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="Normal "class="Normal">DeviceId, desc: </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="Normal "class="Normal">BindGroupDescriptor) </span><span title="rustArrowCharacter "class="rustArrowCharacter">-&gt;</span><span title="Normal "class="Normal"> BindGroupId {
</span><span title="LineNr "class="LineNr">125</span>  <span title="Normal "class="Normal">    </span><span title="rustKeyword "class="rustKeyword">use</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">wgc</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">binding_model </span><span title="rustOperator "class="rustOperator">as</span><span title="Normal "class="Normal"> bm;
</span><span title="LineNr "class="LineNr">126</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">127</span>  <span title="Normal "class="Normal">    </span><span title="rustKeyword "class="rustKeyword">let</span><span title="Normal "class="Normal"> bindings </span><span title="rustOperator "class="rustOperator">&#61;</span><span title="Normal "class="Normal"> desc
</span><span title="LineNr "class="LineNr">128</span>  <span title="Normal "class="Normal">        .bindings
</span><span title="LineNr "class="LineNr">129</span>  <span title="Normal "class="Normal">        .</span><span title="rustFuncCall "class="rustFuncCall">iter</span><span title="Normal "class="Normal">()
</span><span title="LineNr "class="LineNr">130</span>  <span title="Normal "class="Normal">        .</span><span title="rustFuncCall "class="rustFuncCall">map</span><span title="Normal "class="Normal">(</span><span title="rustOperator "class="rustOperator">|</span><span title="Normal "class="Normal">binding</span><span title="rustOperator "class="rustOperator">|</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">bm</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">BindGroupEntry {
</span><span title="LineNr "class="LineNr">131</span>  <span title="Normal "class="Normal">            binding: binding.binding,
</span><span title="LineNr "class="LineNr">132</span>  <span title="Normal "class="Normal">            resource: </span><span title="rustConditional "class="rustConditional">match</span><span title="Normal "class="Normal"> binding.resource {
</span><span title="LineNr "class="LineNr">133</span>  <span title="Normal "class="Normal">                </span><span title="rustModPath "class="rustModPath">BindingResource</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">Buffer {
</span><span title="LineNr "class="LineNr">134</span>  <span title="Normal "class="Normal">                    </span><span title="rustStorage "class="rustStorage">ref</span><span title="Normal "class="Normal"> buffer,
</span><span title="LineNr "class="LineNr">135</span>  <span title="Normal "class="Normal">                    </span><span title="rustStorage "class="rustStorage">ref</span><span title="Normal "class="Normal"> range,
</span><span title="LineNr "class="LineNr">136</span>  <span title="Normal "class="Normal">                } </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">bm</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">BindingResource</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">Buffer</span><span title="Normal "class="Normal">(</span><span title="rustModPath "class="rustModPath">bm</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">BufferBinding {
</span><span title="LineNr "class="LineNr">137</span>  <span title="Normal "class="Normal">                    buffer: buffer.id,
</span><span title="LineNr "class="LineNr">138</span>  <span title="Normal "class="Normal">                    offset: range.start,
</span><span title="LineNr "class="LineNr">139</span>  <span title="Normal "class="Normal">                    size: range.end </span><span title="rustOperator "class="rustOperator">-</span><span title="Normal "class="Normal"> range.start,
</span><span title="LineNr "class="LineNr">140</span>  <span title="Normal "class="Normal">                }),
</span><span title="LineNr "class="LineNr">141</span>  <span title="Normal "class="Normal">                </span><span title="rustModPath "class="rustModPath">BindingResource</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">Sampler</span><span title="Normal "class="Normal">(</span><span title="rustStorage "class="rustStorage">ref</span><span title="Normal "class="Normal"> sampler) </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">bm</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">BindingResource</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">Sampler</span><span title="Normal "class="Normal">(sampler.id),
</span><span title="LineNr "class="LineNr">142</span>  <span title="Normal "class="Normal">                </span><span title="rustModPath "class="rustModPath">BindingResource</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">TextureView</span><span title="Normal "class="Normal">(</span><span title="rustStorage "class="rustStorage">ref</span><span title="Normal "class="Normal"> texture_view) </span><span title="rustOperator "class="rustOperator">&#61;&gt;</span><span title="Normal "class="Normal"> {
</span><span title="LineNr "class="LineNr">143</span>  <span title="Normal "class="Normal">                    </span><span title="rustModPath "class="rustModPath">bm</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">BindingResource</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">TextureView</span><span title="Normal "class="Normal">(texture_view.id)
</span><span title="LineNr "class="LineNr">144</span>  <span title="Normal "class="Normal">                }
</span><span title="LineNr "class="LineNr">145</span>  <span title="Normal "class="Normal">            },
</span><span title="LineNr "class="LineNr">146</span>  <span title="Normal "class="Normal">        })
</span><span title="LineNr "class="LineNr">147</span>  <span title="Normal "class="Normal">        .</span><span title="rustFuncCall "class="rustFuncCall">collect</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustOperator "class="rustOperator">&lt;</span><span title="rustTrait "class="rustTrait">Vec</span><span title="rustOperator "class="rustOperator">&lt;</span><span title="Normal "class="Normal">_</span><span title="rustOperator "class="rustOperator">&gt;&gt;</span><span title="Normal "class="Normal">();
</span><span title="LineNr "class="LineNr">148</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">149</span>  <span title="Normal "class="Normal">    </span><span title="rustKeyword "class="rustKeyword">let</span><span title="Normal "class="Normal"> owned_label </span><span title="rustOperator "class="rustOperator">&#61;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">OwnedLabel</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">new</span><span title="Normal "class="Normal">(desc.label.</span><span title="rustFuncCall "class="rustFuncCall">as_deref</span><span title="Normal "class="Normal">());
</span><span title="LineNr "class="LineNr">150</span>  <span title="Normal "class="Normal">    </span><span title="rustModPath "class="rustModPath">wgn</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">wgpu_device_create_bind_group</span><span title="Normal "class="Normal">(
</span><span title="LineNr "class="LineNr">151</span>  <span title="Normal "class="Normal">        </span><span title="rustSigil "class="rustSigil">*</span><span title="Normal "class="Normal">device,
</span><span title="LineNr "class="LineNr">152</span>  <span title="Normal "class="Normal">        </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="rustModPath "class="rustModPath">bm</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">BindGroupDescriptor {
</span><span title="LineNr "class="LineNr">153</span>  <span title="Normal "class="Normal">            layout: desc.layout.id,
</span><span title="LineNr "class="LineNr">154</span>  <span title="Normal "class="Normal">            entries: bindings.</span><span title="rustFuncCall "class="rustFuncCall">as_ptr</span><span title="Normal "class="Normal">(),
</span><span title="LineNr "class="LineNr">155</span>  <span title="Normal "class="Normal">            entries_length: bindings.</span><span title="rustFuncCall "class="rustFuncCall">len</span><span title="Normal "class="Normal">(),
</span><span title="LineNr "class="LineNr">156</span>  <span title="Normal "class="Normal">            label: owned_label.</span><span title="rustFuncCall "class="rustFuncCall">as_ptr</span><span title="Normal "class="Normal">(),
</span><span title="LineNr "class="LineNr">157</span>  <span title="Normal "class="Normal">        },
</span><span title="LineNr "class="LineNr">158</span>  <span title="Normal "class="Normal">    )
</span><span title="LineNr "class="LineNr">159</span>  <span title="Normal "class="Normal">}
</span><span title="LineNr "class="LineNr">160</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">161</span>  <span title="rustKeyword "class="rustKeyword">pub</span><span title="rustPubScopeDelim "class="rustPubScopeDelim">(</span><span title="rustPubScopeCrate "class="rustPubScopeCrate">crate</span><span title="rustPubScopeDelim "class="rustPubScopeDelim">)</span><span title="Normal "class="Normal"> </span><span title="rustKeyword "class="rustKeyword">fn</span><span title="Normal "class="Normal"> </span><span title="rustFuncName "class="rustFuncName">create_pipeline_layout</span><span title="Normal "class="Normal">(
</span><span title="LineNr "class="LineNr">162</span>  <span title="Normal "class="Normal">    device: </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="Normal "class="Normal">DeviceId,
</span><span title="LineNr "class="LineNr">163</span>  <span title="Normal "class="Normal">    desc: </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="Normal "class="Normal">PipelineLayoutDescriptor,
</span><span title="LineNr "class="LineNr">164</span>  <span title="Normal "class="Normal">) </span><span title="rustArrowCharacter "class="rustArrowCharacter">-&gt;</span><span title="Normal "class="Normal"> PipelineLayoutId {
</span><span title="LineNr "class="LineNr">165</span>  <span title="Normal "class="Normal">    </span><span title="rustCommentLine "class="rustCommentLine">//</span><span title="rustTodo "class="rustTodo">TODO</span><span title="rustCommentLine "class="rustCommentLine">: avoid allocation here
</span><span title="LineNr "class="LineNr">166</span>  <span title="Normal "class="Normal">    </span><span title="rustKeyword "class="rustKeyword">let</span><span title="Normal "class="Normal"> temp_layouts </span><span title="rustOperator "class="rustOperator">&#61;</span><span title="Normal "class="Normal"> desc
</span><span title="LineNr "class="LineNr">167</span>  <span title="Normal "class="Normal">        .bind_group_layouts
</span><span title="LineNr "class="LineNr">168</span>  <span title="Normal "class="Normal">        .</span><span title="rustFuncCall "class="rustFuncCall">iter</span><span title="Normal "class="Normal">()
</span><span title="LineNr "class="LineNr">169</span>  <span title="Normal "class="Normal">        .</span><span title="rustFuncCall "class="rustFuncCall">map</span><span title="Normal "class="Normal">(</span><span title="rustOperator "class="rustOperator">|</span><span title="Normal "class="Normal">bgl</span><span title="rustOperator "class="rustOperator">|</span><span title="Normal "class="Normal"> bgl.id)
</span><span title="LineNr "class="LineNr">170</span>  <span title="Normal "class="Normal">        .</span><span title="rustFuncCall "class="rustFuncCall">collect</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustOperator "class="rustOperator">&lt;</span><span title="rustTrait "class="rustTrait">Vec</span><span title="rustOperator "class="rustOperator">&lt;</span><span title="Normal "class="Normal">_</span><span title="rustOperator "class="rustOperator">&gt;&gt;</span><span title="Normal "class="Normal">();
</span><span title="LineNr "class="LineNr">171</span>  <span title="Normal "class="Normal">    </span><span title="rustModPath "class="rustModPath">wgn</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">wgpu_device_create_pipeline_layout</span><span title="Normal "class="Normal">(
</span><span title="LineNr "class="LineNr">172</span>  <span title="Normal "class="Normal">        </span><span title="rustSigil "class="rustSigil">*</span><span title="Normal "class="Normal">device,
</span><span title="LineNr "class="LineNr">173</span>  <span title="Normal "class="Normal">        </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="rustModPath "class="rustModPath">wgc</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustModPath "class="rustModPath">binding_model</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">PipelineLayoutDescriptor {
</span><span title="LineNr "class="LineNr">174</span>  <span title="Normal "class="Normal">            bind_group_layouts: temp_layouts.</span><span title="rustFuncCall "class="rustFuncCall">as_ptr</span><span title="Normal "class="Normal">(),
</span><span title="LineNr "class="LineNr">175</span>  <span title="Normal "class="Normal">            bind_group_layouts_length: temp_layouts.</span><span title="rustFuncCall "class="rustFuncCall">len</span><span title="Normal "class="Normal">(),
</span><span title="LineNr "class="LineNr">176</span>  <span title="Normal "class="Normal">        },
</span><span title="LineNr "class="LineNr">177</span>  <span title="Normal "class="Normal">    )
</span><span title="LineNr "class="LineNr">178</span>  <span title="Normal "class="Normal">}
</span><span title="LineNr "class="LineNr">179</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">180</span>  <span title="rustKeyword "class="rustKeyword">pub</span><span title="rustPubScopeDelim "class="rustPubScopeDelim">(</span><span title="rustPubScopeCrate "class="rustPubScopeCrate">crate</span><span title="rustPubScopeDelim "class="rustPubScopeDelim">)</span><span title="Normal "class="Normal"> </span><span title="rustKeyword "class="rustKeyword">fn</span><span title="Normal "class="Normal"> </span><span title="rustFuncName "class="rustFuncName">create_render_pipeline</span><span title="Normal "class="Normal">(
</span><span title="LineNr "class="LineNr">181</span>  <span title="Normal "class="Normal">    device: </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="Normal "class="Normal">DeviceId,
</span><span title="LineNr "class="LineNr">182</span>  <span title="Normal "class="Normal">    desc: </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="Normal "class="Normal">RenderPipelineDescriptor,
</span><span title="LineNr "class="LineNr">183</span>  <span title="Normal "class="Normal">) </span><span title="rustArrowCharacter "class="rustArrowCharacter">-&gt;</span><span title="Normal "class="Normal"> RenderPipelineId {
</span><span title="LineNr "class="LineNr">184</span>  <span title="Normal "class="Normal">    </span><span title="rustKeyword "class="rustKeyword">use</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">wgc</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">pipeline </span><span title="rustOperator "class="rustOperator">as</span><span title="Normal "class="Normal"> pipe;
</span><span title="LineNr "class="LineNr">185</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">186</span>  <span title="Normal "class="Normal">    </span><span title="rustKeyword "class="rustKeyword">let</span><span title="Normal "class="Normal"> vertex_entry_point </span><span title="rustOperator "class="rustOperator">&#61;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">CString</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">new</span><span title="Normal "class="Normal">(desc.vertex_stage.entry_point).</span><span title="rustFuncCall "class="rustFuncCall">unwrap</span><span title="Normal "class="Normal">();
</span><span title="LineNr "class="LineNr">187</span>  <span title="Normal "class="Normal">    </span><span title="rustKeyword "class="rustKeyword">let</span><span title="Normal "class="Normal"> vertex_stage </span><span title="rustOperator "class="rustOperator">&#61;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">pipe</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">ProgrammableStageDescriptor {
</span><span title="LineNr "class="LineNr">188</span>  <span title="Normal "class="Normal">        module: desc.vertex_stage.module.id,
</span><span title="LineNr "class="LineNr">189</span>  <span title="Normal "class="Normal">        entry_point: vertex_entry_point.</span><span title="rustFuncCall "class="rustFuncCall">as_ptr</span><span title="Normal "class="Normal">(),
</span><span title="LineNr "class="LineNr">190</span>  <span title="Normal "class="Normal">    };
</span><span title="LineNr "class="LineNr">191</span>  <span title="Normal "class="Normal">    </span><span title="rustKeyword "class="rustKeyword">let</span><span title="Normal "class="Normal"> (_fragment_entry_point, fragment_stage) </span><span title="rustOperator "class="rustOperator">&#61;</span><span title="Normal "class="Normal"> </span><span title="rustConditional "class="rustConditional">if</span><span title="Normal "class="Normal"> </span><span title="rustKeyword "class="rustKeyword">let</span><span title="Normal "class="Normal"> </span><span title="rustEnumVariant "class="rustEnumVariant">Some</span><span title="Normal "class="Normal">(fragment_stage) </span><span title="rustOperator "class="rustOperator">&#61;</span><span title="Normal "class="Normal"> </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="Normal "class="Normal">desc.fragment_stage
</span><span title="LineNr "class="LineNr">192</span>  <span title="Normal "class="Normal">    {
</span><span title="LineNr "class="LineNr">193</span>  <span title="Normal "class="Normal">        </span><span title="rustKeyword "class="rustKeyword">let</span><span title="Normal "class="Normal"> fragment_entry_point </span><span title="rustOperator "class="rustOperator">&#61;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">CString</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">new</span><span title="Normal "class="Normal">(fragment_stage.entry_point).</span><span title="rustFuncCall "class="rustFuncCall">unwrap</span><span title="Normal "class="Normal">();
</span><span title="LineNr "class="LineNr">194</span>  <span title="Normal "class="Normal">        </span><span title="rustKeyword "class="rustKeyword">let</span><span title="Normal "class="Normal"> fragment_stage </span><span title="rustOperator "class="rustOperator">&#61;</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">pipe</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">ProgrammableStageDescriptor {
</span><span title="LineNr "class="LineNr">195</span>  <span title="Normal "class="Normal">            module: fragment_stage.module.id,
</span><span title="LineNr "class="LineNr">196</span>  <span title="Normal "class="Normal">            entry_point: fragment_entry_point.</span><span title="rustFuncCall "class="rustFuncCall">as_ptr</span><span title="Normal "class="Normal">(),
</span><span title="LineNr "class="LineNr">197</span>  <span title="Normal "class="Normal">        };
</span><span title="LineNr "class="LineNr">198</span>  <span title="Normal "class="Normal">        (fragment_entry_point, </span><span title="rustEnumVariant "class="rustEnumVariant">Some</span><span title="Normal "class="Normal">(fragment_stage))
</span><span title="LineNr "class="LineNr">199</span>  <span title="Normal "class="Normal">    } </span><span title="rustConditional "class="rustConditional">else</span><span title="Normal "class="Normal"> {
</span><span title="LineNr "class="LineNr">200</span>  <span title="Normal "class="Normal">        (</span><span title="rustModPath "class="rustModPath">CString</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">default</span><span title="Normal "class="Normal">(), </span><span title="rustEnumVariant "class="rustEnumVariant">None</span><span title="Normal "class="Normal">)
</span><span title="LineNr "class="LineNr">201</span>  <span title="Normal "class="Normal">    };
</span><span title="LineNr "class="LineNr">202</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">203</span>  <span title="Normal "class="Normal">    </span><span title="rustKeyword "class="rustKeyword">let</span><span title="Normal "class="Normal"> temp_color_states </span><span title="rustOperator "class="rustOperator">&#61;</span><span title="Normal "class="Normal"> desc.color_states.</span><span title="rustFuncCall "class="rustFuncCall">to_vec</span><span title="Normal "class="Normal">();
</span><span title="LineNr "class="LineNr">204</span>  <span title="Normal "class="Normal">    </span><span title="rustKeyword "class="rustKeyword">let</span><span title="Normal "class="Normal"> temp_vertex_buffers </span><span title="rustOperator "class="rustOperator">&#61;</span><span title="Normal "class="Normal"> desc
</span><span title="LineNr "class="LineNr">205</span>  <span title="Normal "class="Normal">        .vertex_state
</span><span title="LineNr "class="LineNr">206</span>  <span title="Normal "class="Normal">        .vertex_buffers
</span><span title="LineNr "class="LineNr">207</span>  <span title="Normal "class="Normal">        .</span><span title="rustFuncCall "class="rustFuncCall">iter</span><span title="Normal "class="Normal">()
</span><span title="LineNr "class="LineNr">208</span>  <span title="Normal "class="Normal">        .</span><span title="rustFuncCall "class="rustFuncCall">map</span><span title="Normal "class="Normal">(</span><span title="rustOperator "class="rustOperator">|</span><span title="Normal "class="Normal">vbuf</span><span title="rustOperator "class="rustOperator">|</span><span title="Normal "class="Normal"> </span><span title="rustModPath "class="rustModPath">pipe</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">VertexBufferLayoutDescriptor {
</span><span title="LineNr "class="LineNr">209</span>  <span title="Normal "class="Normal">            array_stride: vbuf.stride,
</span><span title="LineNr "class="LineNr">210</span>  <span title="Normal "class="Normal">            step_mode: vbuf.step_mode,
</span><span title="LineNr "class="LineNr">211</span>  <span title="Normal "class="Normal">            attributes: vbuf.attributes.</span><span title="rustFuncCall "class="rustFuncCall">as_ptr</span><span title="Normal "class="Normal">(),
</span><span title="LineNr "class="LineNr">212</span>  <span title="Normal "class="Normal">            attributes_length: vbuf.attributes.</span><span title="rustFuncCall "class="rustFuncCall">len</span><span title="Normal "class="Normal">(),
</span><span title="LineNr "class="LineNr">213</span>  <span title="Normal "class="Normal">        })
</span><span title="LineNr "class="LineNr">214</span>  <span title="Normal "class="Normal">        .</span><span title="rustFuncCall "class="rustFuncCall">collect</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustOperator "class="rustOperator">&lt;</span><span title="rustTrait "class="rustTrait">Vec</span><span title="rustOperator "class="rustOperator">&lt;</span><span title="Normal "class="Normal">_</span><span title="rustOperator "class="rustOperator">&gt;&gt;</span><span title="Normal "class="Normal">();
</span><span title="LineNr "class="LineNr">215</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">216</span>  <span title="Normal "class="Normal">    </span><span title="rustModPath "class="rustModPath">wgn</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">wgpu_device_create_render_pipeline</span><span title="Normal "class="Normal">(
</span><span title="LineNr "class="LineNr">217</span>  <span title="Normal "class="Normal">        </span><span title="rustSigil "class="rustSigil">*</span><span title="Normal "class="Normal">device,
</span><span title="LineNr "class="LineNr">218</span>  <span title="Normal "class="Normal">        </span><span title="rustSigil "class="rustSigil">&amp;</span><span title="rustModPath "class="rustModPath">pipe</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">RenderPipelineDescriptor {
</span><span title="LineNr "class="LineNr">219</span>  <span title="Normal "class="Normal">            layout: desc.layout.id,
</span><span title="LineNr "class="LineNr">220</span>  <span title="Normal "class="Normal">            vertex_stage,
</span><span title="LineNr "class="LineNr">221</span>  <span title="Normal "class="Normal">            fragment_stage: fragment_stage
</span><span title="LineNr "class="LineNr">222</span>  <span title="Normal "class="Normal">                .</span><span title="rustFuncCall "class="rustFuncCall">as_ref</span><span title="Normal "class="Normal">()
</span><span title="LineNr "class="LineNr">223</span>  <span title="Normal "class="Normal">                .</span><span title="rustFuncCall "class="rustFuncCall">map_or</span><span title="Normal "class="Normal">(</span><span title="rustModPath "class="rustModPath">ptr</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">null</span><span title="Normal "class="Normal">(), </span><span title="rustOperator "class="rustOperator">|</span><span title="Normal "class="Normal">fs</span><span title="rustOperator "class="rustOperator">|</span><span title="Normal "class="Normal"> fs </span><span title="rustOperator "class="rustOperator">as</span><span title="Normal "class="Normal"> </span><span title="rustSigil "class="rustSigil">*</span><span title="rustStorage "class="rustStorage">const</span><span title="Normal "class="Normal"> _),
</span><span title="LineNr "class="LineNr">224</span>  <span title="Normal "class="Normal">            rasterization_state: desc
</span><span title="LineNr "class="LineNr">225</span>  <span title="Normal "class="Normal">                .rasterization_state
</span><span title="LineNr "class="LineNr">226</span>  <span title="Normal "class="Normal">                .</span><span title="rustFuncCall "class="rustFuncCall">as_ref</span><span title="Normal "class="Normal">()
</span><span title="LineNr "class="LineNr">227</span>  <span title="Normal "class="Normal">                .</span><span title="rustFuncCall "class="rustFuncCall">map_or</span><span title="Normal "class="Normal">(</span><span title="rustModPath "class="rustModPath">ptr</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">null</span><span title="Normal "class="Normal">(), </span><span title="rustOperator "class="rustOperator">|</span><span title="Normal "class="Normal">p</span><span title="rustOperator "class="rustOperator">|</span><span title="Normal "class="Normal"> p </span><span title="rustOperator "class="rustOperator">as</span><span title="Normal "class="Normal"> </span><span title="rustSigil "class="rustSigil">*</span><span title="rustStorage "class="rustStorage">const</span><span title="Normal "class="Normal"> _),
</span><span title="LineNr "class="LineNr">228</span>  <span title="Normal "class="Normal">            primitive_topology: desc.primitive_topology,
</span><span title="LineNr "class="LineNr">229</span>  <span title="Normal "class="Normal">            color_states: temp_color_states.</span><span title="rustFuncCall "class="rustFuncCall">as_ptr</span><span title="Normal "class="Normal">(),
</span><span title="LineNr "class="LineNr">230</span>  <span title="Normal "class="Normal">            color_states_length: temp_color_states.</span><span title="rustFuncCall "class="rustFuncCall">len</span><span title="Normal "class="Normal">(),
</span><span title="LineNr "class="LineNr">231</span>  <span title="Normal "class="Normal">            depth_stencil_state: desc
</span><span title="LineNr "class="LineNr">232</span>  <span title="Normal "class="Normal">                .depth_stencil_state
</span><span title="LineNr "class="LineNr">233</span>  <span title="Normal "class="Normal">                .</span><span title="rustFuncCall "class="rustFuncCall">as_ref</span><span title="Normal "class="Normal">()
</span><span title="LineNr "class="LineNr">234</span>  <span title="Normal "class="Normal">                .</span><span title="rustFuncCall "class="rustFuncCall">map_or</span><span title="Normal "class="Normal">(</span><span title="rustModPath "class="rustModPath">ptr</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="rustFuncCall "class="rustFuncCall">null</span><span title="Normal "class="Normal">(), </span><span title="rustOperator "class="rustOperator">|</span><span title="Normal "class="Normal">p</span><span title="rustOperator "class="rustOperator">|</span><span title="Normal "class="Normal"> p </span><span title="rustOperator "class="rustOperator">as</span><span title="Normal "class="Normal"> </span><span title="rustSigil "class="rustSigil">*</span><span title="rustStorage "class="rustStorage">const</span><span title="Normal "class="Normal"> _),
</span><span title="LineNr "class="LineNr">235</span>  <span title="Normal "class="Normal">            vertex_state: </span><span title="rustModPath "class="rustModPath">pipe</span><span title="rustModPathSep "class="rustModPathSep">::</span><span title="Normal "class="Normal">VertexStateDescriptor {
</span><span title="LineNr "class="LineNr">236</span>  <span title="Normal "class="Normal">                index_format: desc.vertex_state.index_format,
</span><span title="LineNr "class="LineNr">237</span>  <span title="Normal "class="Normal">                vertex_buffers: temp_vertex_buffers.</span><span title="rustFuncCall "class="rustFuncCall">as_ptr</span><span title="Normal "class="Normal">(),
</span><span title="LineNr "class="LineNr">238</span>  <span title="Normal "class="Normal">                vertex_buffers_length: temp_vertex_buffers.</span><span title="rustFuncCall "class="rustFuncCall">len</span><span title="Normal "class="Normal">(),
</span><span title="LineNr "class="LineNr">239</span>  <span title="Normal "class="Normal">            },
</span><span title="LineNr "class="LineNr">240</span>  <span title="Normal "class="Normal">            sample_count: desc.sample_count,
</span><span title="LineNr "class="LineNr">241</span>  <span title="Normal "class="Normal">            sample_mask: desc.sample_mask,
</span><span title="LineNr "class="LineNr">242</span>  <span title="Normal "class="Normal">            alpha_to_coverage_enabled: desc.alpha_to_coverage_enabled,
</span><span title="LineNr "class="LineNr">243</span>  <span title="Normal "class="Normal">        },
</span><span title="LineNr "class="LineNr">244</span>  <span title="Normal "class="Normal">    )
</span><span title="LineNr "class="LineNr last-LineNr">245</span>  <span title="Normal "class="Normal">}</span>