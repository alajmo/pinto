<span title="LineNr "class="LineNr first-LineNr">1</span>  <span title="Delimiter "class="Delimiter">&lt;?php
</span><span title="LineNr "class="LineNr">2</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">3</span>  <span title="phpStructure "class="phpStructure">namespace</span><span title="phpRegion "class="phpRegion"> Jenssegers\Mongodb\Query;
</span><span title="LineNr "class="LineNr">4</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">5</span>  <span title="phpInclude "class="phpInclude">use</span><span title="phpRegion "class="phpRegion"> Closure;
</span><span title="LineNr "class="LineNr">6</span>  <span title="phpInclude "class="phpInclude">use</span><span title="phpRegion "class="phpRegion"> Illuminate\Database\Query\Builder </span><span title="phpRepeat "class="phpRepeat">as</span><span title="phpRegion "class="phpRegion"> BaseBuilder;
</span><span title="LineNr "class="LineNr">7</span>  <span title="phpInclude "class="phpInclude">use</span><span title="phpRegion "class="phpRegion"> </span><span title="phpClasses "class="phpClasses">RuntimeException</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">8</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">9</span>  <span title="phpComment "class="phpComment">/**
</span><span title="LineNr "class="LineNr">10</span>  <span title="phpComment "class="phpComment"> * Class Builder
</span><span title="LineNr "class="LineNr">11</span>  <span title="phpComment "class="phpComment"> * </span><span title="phpDocTags "class="phpDocTags">@package </span><span title="phpComment "class="phpComment">Jenssegers\Mongodb\Query
</span><span title="LineNr "class="LineNr">12</span>  <span title="phpComment "class="phpComment"> */
</span><span title="LineNr "class="LineNr">13</span>  <span title="phpStructure "class="phpStructure">class</span><span title="phpRegion "class="phpRegion"> Builder </span><span title="phpStructure "class="phpStructure">extends</span><span title="phpRegion "class="phpRegion"> BaseBuilder
</span><span title="LineNr "class="LineNr">14</span>  <span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">15</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpComment "class="phpComment">/**
</span><span title="LineNr "class="LineNr">16</span>  <span title="phpComment "class="phpComment">     * Indicate if we are executing a pagination query.
</span><span title="LineNr "class="LineNr">17</span>  <span title="phpComment "class="phpComment">     * </span><span title="phpDocTags "class="phpDocTags">@var </span><span title="phpComment "class="phpComment">bool
</span><span title="LineNr "class="LineNr">18</span>  <span title="phpComment "class="phpComment">     */
</span><span title="LineNr "class="LineNr">19</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpStorageClass "class="phpStorageClass">public</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">paginating</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpBoolean "class="phpBoolean">false</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">20</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">21</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpComment "class="phpComment">/**
</span><span title="LineNr "class="LineNr">22</span>  <span title="phpComment "class="phpComment">     * All of the available clause operators.
</span><span title="LineNr "class="LineNr">23</span>  <span title="phpComment "class="phpComment">     * </span><span title="phpDocTags "class="phpDocTags">@var </span><span title="phpComment "class="phpComment">array
</span><span title="LineNr "class="LineNr">24</span>  <span title="phpComment "class="phpComment">     */
</span><span title="LineNr "class="LineNr">25</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpStorageClass "class="phpStorageClass">public</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">operators</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">[
</span><span title="LineNr "class="LineNr">26</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpStringSingle "class="phpStringSingle">&#39;&#61;&#39;</span><span title="phpRegion "class="phpRegion">,
</span><span title="LineNr "class="LineNr">27</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpStringSingle "class="phpStringSingle">&#39;geometry&#39;</span><span title="phpRegion "class="phpRegion">,
</span><span title="LineNr "class="LineNr">28</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpStringSingle "class="phpStringSingle">&#39;maxdistance&#39;</span><span title="phpRegion "class="phpRegion">,
</span><span title="LineNr "class="LineNr">29</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpStringSingle "class="phpStringSingle">&#39;center&#39;</span><span title="phpRegion "class="phpRegion">,
</span><span title="LineNr "class="LineNr">30</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpStringSingle "class="phpStringSingle">&#39;centersphere&#39;</span><span title="phpRegion "class="phpRegion">,
</span><span title="LineNr "class="LineNr">31</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpStringSingle "class="phpStringSingle">&#39;box&#39;</span><span title="phpRegion "class="phpRegion">,
</span><span title="LineNr "class="LineNr">32</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpStringSingle "class="phpStringSingle">&#39;polygon&#39;</span><span title="phpRegion "class="phpRegion">,
</span><span title="LineNr "class="LineNr">33</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpStringSingle "class="phpStringSingle">&#39;uniquedocs&#39;</span><span title="phpRegion "class="phpRegion">,
</span><span title="LineNr "class="LineNr">34</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpParent "class="phpParent">]</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">35</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">36</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpComment "class="phpComment">/**
</span><span title="LineNr "class="LineNr">37</span>  <span title="phpComment "class="phpComment">     * Set the cursor hint.
</span><span title="LineNr "class="LineNr">38</span>  <span title="phpComment "class="phpComment">     * </span><span title="phpDocTags "class="phpDocTags">@param </span><span title="phpComment "class="phpComment">mixed $index
</span><span title="LineNr "class="LineNr">39</span>  <span title="phpComment "class="phpComment">     * </span><span title="phpDocTags "class="phpDocTags">@return </span><span title="phpComment "class="phpComment">$this
</span><span title="LineNr "class="LineNr">40</span>  <span title="phpComment "class="phpComment">     */
</span><span title="LineNr "class="LineNr">41</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpStorageClass "class="phpStorageClass">public</span><span title="phpRegion "class="phpRegion"> </span><span title="phpDefine "class="phpDefine">function</span><span title="phpRegion "class="phpRegion"> hint</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">index</span><span title="phpParent "class="phpParent">)
</span><span title="LineNr "class="LineNr">42</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">43</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">hint</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">index</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">44</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">45</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpStatement "class="phpStatement">return</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">46</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">47</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">48</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpComment "class="phpComment">/**
</span><span title="LineNr "class="LineNr">49</span>  <span title="phpComment "class="phpComment">     * Generate the unique cache key for the current query.
</span><span title="LineNr "class="LineNr">50</span>  <span title="phpComment "class="phpComment">     * </span><span title="phpDocTags "class="phpDocTags">@return </span><span title="phpComment "class="phpComment">string
</span><span title="LineNr "class="LineNr">51</span>  <span title="phpComment "class="phpComment">     */
</span><span title="LineNr "class="LineNr">52</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpStorageClass "class="phpStorageClass">public</span><span title="phpRegion "class="phpRegion"> </span><span title="phpDefine "class="phpDefine">function</span><span title="phpRegion "class="phpRegion"> generateCacheKey</span><span title="phpParent "class="phpParent">()
</span><span title="LineNr "class="LineNr">53</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">54</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">key</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">[
</span><span title="LineNr "class="LineNr">55</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpStringSingle "class="phpStringSingle">&#39;connection&#39;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRelation "class="phpRelation">&gt;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">collection</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">getDatabaseName</span><span title="phpParent "class="phpParent">()</span><span title="phpRegion "class="phpRegion">,
</span><span title="LineNr "class="LineNr">56</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpStringSingle "class="phpStringSingle">&#39;collection&#39;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRelation "class="phpRelation">&gt;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">collection</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">getCollectionName</span><span title="phpParent "class="phpParent">()</span><span title="phpRegion "class="phpRegion">,
</span><span title="LineNr "class="LineNr">57</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpStringSingle "class="phpStringSingle">&#39;wheres&#39;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRelation "class="phpRelation">&gt;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">wheres</span><span title="phpRegion "class="phpRegion">,
</span><span title="LineNr "class="LineNr">58</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpStringSingle "class="phpStringSingle">&#39;columns&#39;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRelation "class="phpRelation">&gt;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">columns</span><span title="phpRegion "class="phpRegion">,
</span><span title="LineNr "class="LineNr">59</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpStringSingle "class="phpStringSingle">&#39;groups&#39;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRelation "class="phpRelation">&gt;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">groups</span><span title="phpRegion "class="phpRegion">,
</span><span title="LineNr "class="LineNr">60</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpStringSingle "class="phpStringSingle">&#39;orders&#39;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRelation "class="phpRelation">&gt;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">orders</span><span title="phpRegion "class="phpRegion">,
</span><span title="LineNr "class="LineNr">61</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpStringSingle "class="phpStringSingle">&#39;offset&#39;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRelation "class="phpRelation">&gt;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">offset</span><span title="phpRegion "class="phpRegion">,
</span><span title="LineNr "class="LineNr">62</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpStringSingle "class="phpStringSingle">&#39;limit&#39;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRelation "class="phpRelation">&gt;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">limit</span><span title="phpRegion "class="phpRegion">,
</span><span title="LineNr "class="LineNr">63</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpStringSingle "class="phpStringSingle">&#39;aggregate&#39;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRelation "class="phpRelation">&gt;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">aggregate</span><span title="phpRegion "class="phpRegion">,
</span><span title="LineNr "class="LineNr">64</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpParent "class="phpParent">]</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">65</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">66</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpStatement "class="phpStatement">return</span><span title="phpRegion "class="phpRegion"> </span><span title="phpFunctions "class="phpFunctions">md5</span><span title="phpParent "class="phpParent">(</span><span title="phpFunctions "class="phpFunctions">serialize</span><span title="phpParent "class="phpParent">(</span><span title="phpFunctions "class="phpFunctions">array_values</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">key</span><span title="phpParent "class="phpParent">)))</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">67</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">68</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">69</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpComment "class="phpComment">/**
</span><span title="LineNr "class="LineNr">70</span>  <span title="phpComment "class="phpComment">     * </span><span title="phpDocCustomTags "class="phpDocCustomTags">@inheritdoc
</span><span title="LineNr "class="LineNr">71</span>  <span title="phpComment "class="phpComment">     */
</span><span title="LineNr "class="LineNr">72</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpStorageClass "class="phpStorageClass">public</span><span title="phpRegion "class="phpRegion"> </span><span title="phpDefine "class="phpDefine">function</span><span title="phpRegion "class="phpRegion"> </span><span title="phpFunctions "class="phpFunctions">aggregate</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">function</span><span title="phpRegion "class="phpRegion">, </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">columns</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">[])
</span><span title="LineNr "class="LineNr">73</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">74</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">aggregate</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpSpecialFunction "class="phpSpecialFunction">compact</span><span title="phpParent "class="phpParent">(</span><span title="phpStringSingle "class="phpStringSingle">&#39;function&#39;</span><span title="phpRegion "class="phpRegion">, </span><span title="phpStringSingle "class="phpStringSingle">&#39;columns&#39;</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">75</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">76</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">previousColumns</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">columns</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">77</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">78</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpComment "class="phpComment">// We will also back up the select bindings since the select clause will be
</span><span title="LineNr "class="LineNr">79</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpComment "class="phpComment">// removed when performing the aggregate function. Once the query is run
</span><span title="LineNr "class="LineNr">80</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpComment "class="phpComment">// we will add the bindings back onto this query so they can get used.
</span><span title="LineNr "class="LineNr">81</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">previousSelectBindings</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">bindings</span><span title="phpParent "class="phpParent">[</span><span title="phpStringSingle "class="phpStringSingle">&#39;select&#39;</span><span title="phpParent "class="phpParent">]</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">82</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">83</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">bindings</span><span title="phpParent "class="phpParent">[</span><span title="phpStringSingle "class="phpStringSingle">&#39;select&#39;</span><span title="phpParent "class="phpParent">]</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">[]</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">84</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">85</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">results</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">get</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">columns</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">86</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">87</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpComment "class="phpComment">// Once we have executed the query, we will reset the aggregate property so
</span><span title="LineNr "class="LineNr">88</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpComment "class="phpComment">// that more select queries can be executed against the database without
</span><span title="LineNr "class="LineNr">89</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpComment "class="phpComment">// the aggregate value getting in the way when the grammar builds it.
</span><span title="LineNr "class="LineNr">90</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">aggregate</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpType "class="phpType">null</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">91</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">columns</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">previousColumns</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">92</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">bindings</span><span title="phpParent "class="phpParent">[</span><span title="phpStringSingle "class="phpStringSingle">&#39;select&#39;</span><span title="phpParent "class="phpParent">]</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">previousSelectBindings</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">93</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">94</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpConditional "class="phpConditional">if</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">(</span><span title="phpSpecialFunction "class="phpSpecialFunction">isset</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">results</span><span title="phpParent "class="phpParent">[</span><span title="phpNumber "class="phpNumber">0</span><span title="phpParent "class="phpParent">]))</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">95</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">result</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">(</span><span title="phpType "class="phpType">array</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">results</span><span title="phpParent "class="phpParent">[</span><span title="phpNumber "class="phpNumber">0</span><span title="phpParent "class="phpParent">]</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">96</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">97</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpStatement "class="phpStatement">return</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">result</span><span title="phpParent "class="phpParent">[</span><span title="phpStringSingle "class="phpStringSingle">&#39;aggregate&#39;</span><span title="phpParent "class="phpParent">]</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">98</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">99</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">100</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">101</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpComment "class="phpComment">/**
</span><span title="LineNr "class="LineNr">102</span>  <span title="phpComment "class="phpComment">     * Get an array with the values of a given column.
</span><span title="LineNr "class="LineNr">103</span>  <span title="phpComment "class="phpComment">     * </span><span title="phpDocTags "class="phpDocTags">@param </span><span title="phpComment "class="phpComment">string $column
</span><span title="LineNr "class="LineNr">104</span>  <span title="phpComment "class="phpComment">     * </span><span title="phpDocTags "class="phpDocTags">@param </span><span title="phpComment "class="phpComment">string $key
</span><span title="LineNr "class="LineNr">105</span>  <span title="phpComment "class="phpComment">     * </span><span title="phpDocTags "class="phpDocTags">@return </span><span title="phpComment "class="phpComment">array
</span><span title="LineNr "class="LineNr">106</span>  <span title="phpComment "class="phpComment">     * </span><span title="phpDocTags "class="phpDocTags">@deprecated
</span><span title="LineNr "class="LineNr">107</span>  <span title="phpComment "class="phpComment">     */
</span><span title="LineNr "class="LineNr">108</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpStorageClass "class="phpStorageClass">public</span><span title="phpRegion "class="phpRegion"> </span><span title="phpDefine "class="phpDefine">function</span><span title="phpRegion "class="phpRegion"> lists</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">column</span><span title="phpRegion "class="phpRegion">, </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">key</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpType "class="phpType">null</span><span title="phpParent "class="phpParent">)
</span><span title="LineNr "class="LineNr">109</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">110</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpStatement "class="phpStatement">return</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">pluck</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">column</span><span title="phpRegion "class="phpRegion">, </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">key</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">111</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">112</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">113</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpComment "class="phpComment">/**
</span><span title="LineNr "class="LineNr">114</span>  <span title="phpComment "class="phpComment">     * </span><span title="phpDocCustomTags "class="phpDocCustomTags">@inheritdoc
</span><span title="LineNr "class="LineNr">115</span>  <span title="phpComment "class="phpComment">     */
</span><span title="LineNr "class="LineNr">116</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpStorageClass "class="phpStorageClass">public</span><span title="phpRegion "class="phpRegion"> </span><span title="phpDefine "class="phpDefine">function</span><span title="phpRegion "class="phpRegion"> raw</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">expression</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpType "class="phpType">null</span><span title="phpParent "class="phpParent">)
</span><span title="LineNr "class="LineNr">117</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">118</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpComment "class="phpComment">// Execute the closure on the mongodb collection
</span><span title="LineNr "class="LineNr">119</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpConditional "class="phpConditional">if</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">expression</span><span title="phpRegion "class="phpRegion"> </span><span title="phpComparison "class="phpComparison">instanceof</span><span title="phpRegion "class="phpRegion"> Closure</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">120</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpStatement "class="phpStatement">return</span><span title="phpRegion "class="phpRegion"> </span><span title="phpFunctions "class="phpFunctions">call_user_func</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">expression</span><span title="phpRegion "class="phpRegion">, </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">collection</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">121</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">122</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">123</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpComment "class="phpComment">// Create an expression for the given value
</span><span title="LineNr "class="LineNr">124</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpConditional "class="phpConditional">if</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">expression</span><span title="phpRegion "class="phpRegion"> </span><span title="phpComparison "class="phpComparison">!&#61;&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpType "class="phpType">null</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">125</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpStatement "class="phpStatement">return</span><span title="phpRegion "class="phpRegion"> </span><span title="phpDefine "class="phpDefine">new</span><span title="phpRegion "class="phpRegion"> Expression</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">expression</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">126</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">127</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">128</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpComment "class="phpComment">// Quick access to the mongodb collection
</span><span title="LineNr "class="LineNr">129</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpStatement "class="phpStatement">return</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">collection</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">130</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">131</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">132</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpComment "class="phpComment">/**
</span><span title="LineNr "class="LineNr">133</span>  <span title="phpComment "class="phpComment">     * Remove one or more fields.
</span><span title="LineNr "class="LineNr">134</span>  <span title="phpComment "class="phpComment">     * </span><span title="phpDocTags "class="phpDocTags">@param </span><span title="phpComment "class="phpComment">mixed $columns
</span><span title="LineNr "class="LineNr">135</span>  <span title="phpComment "class="phpComment">     * </span><span title="phpDocTags "class="phpDocTags">@return </span><span title="phpComment "class="phpComment">int
</span><span title="LineNr "class="LineNr">136</span>  <span title="phpComment "class="phpComment">     */
</span><span title="LineNr "class="LineNr">137</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpStorageClass "class="phpStorageClass">public</span><span title="phpRegion "class="phpRegion"> </span><span title="phpDefine "class="phpDefine">function</span><span title="phpRegion "class="phpRegion"> drop</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">columns</span><span title="phpParent "class="phpParent">)
</span><span title="LineNr "class="LineNr">138</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">139</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpConditional "class="phpConditional">if</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">(</span><span title="phpOperator "class="phpOperator">!</span><span title="phpFunctions "class="phpFunctions">is_array</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">columns</span><span title="phpParent "class="phpParent">))</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">140</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">columns</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">[</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">columns</span><span title="phpParent "class="phpParent">]</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">141</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">142</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">143</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">fields</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">[]</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">144</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">145</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpRepeat "class="phpRepeat">foreach</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">columns</span><span title="phpRegion "class="phpRegion"> </span><span title="phpRepeat "class="phpRepeat">as</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">column</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">146</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">fields</span><span title="phpParent "class="phpParent">[</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">column</span><span title="phpParent "class="phpParent">]</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpNumber "class="phpNumber">1</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">147</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">148</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">149</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">query</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">[</span><span title="phpStringSingle "class="phpStringSingle">&#39;$unset&#39;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRelation "class="phpRelation">&gt;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">fields</span><span title="phpParent "class="phpParent">]</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">150</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">151</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpStatement "class="phpStatement">return</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">performUpdate</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">query</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">152</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">153</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">154</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpComment "class="phpComment">/**
</span><span title="LineNr "class="LineNr">155</span>  <span title="phpComment "class="phpComment">     * </span><span title="phpDocTags "class="phpDocTags">@param </span><span title="phpComment "class="phpComment">array $where
</span><span title="LineNr "class="LineNr">156</span>  <span title="phpComment "class="phpComment">     * </span><span title="phpDocTags "class="phpDocTags">@return </span><span title="phpComment "class="phpComment">array
</span><span title="LineNr "class="LineNr">157</span>  <span title="phpComment "class="phpComment">     */
</span><span title="LineNr "class="LineNr">158</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpStorageClass "class="phpStorageClass">protected</span><span title="phpRegion "class="phpRegion"> </span><span title="phpDefine "class="phpDefine">function</span><span title="phpRegion "class="phpRegion"> compileWhereBasic</span><span title="phpParent "class="phpParent">(</span><span title="phpType "class="phpType">array</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">where</span><span title="phpParent "class="phpParent">)
</span><span title="LineNr "class="LineNr">159</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">160</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpSpecialFunction "class="phpSpecialFunction">extract</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">where</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">161</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">is_numeric</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpBoolean "class="phpBoolean">false</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">162</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">163</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpComment "class="phpComment">// Replace like or not like with a Regex instance.
</span><span title="LineNr "class="LineNr">164</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpConditional "class="phpConditional">if</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">(</span><span title="phpFunctions "class="phpFunctions">in_array</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">operator</span><span title="phpRegion "class="phpRegion">, </span><span title="phpParent "class="phpParent">[</span><span title="phpStringSingle "class="phpStringSingle">&#39;like&#39;</span><span title="phpRegion "class="phpRegion">, </span><span title="phpStringSingle "class="phpStringSingle">&#39;not like&#39;</span><span title="phpParent "class="phpParent">]))</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">165</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpConditional "class="phpConditional">if</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">operator</span><span title="phpRegion "class="phpRegion"> </span><span title="phpComparison "class="phpComparison">&#61;&#61;&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpStringSingle "class="phpStringSingle">&#39;not like&#39;</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">166</span>  <span title="phpRegion "class="phpRegion">                </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">operator</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpStringSingle "class="phpStringSingle">&#39;not&#39;</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">167</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpParent "class="phpParent">}</span><span title="phpRegion "class="phpRegion"> </span><span title="phpConditional "class="phpConditional">else</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">168</span>  <span title="phpRegion "class="phpRegion">                </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">operator</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpStringSingle "class="phpStringSingle">&#39;&#61;&#39;</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">169</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">170</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">171</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpComment "class="phpComment">// Convert to regular expression.
</span><span title="LineNr "class="LineNr">172</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">regex</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpFunctions "class="phpFunctions">preg_replace</span><span title="phpParent "class="phpParent">(</span><span title="phpStringSingle "class="phpStringSingle">&#39;#(^|[^</span><span title="phpBackslashSingleQuote "class="phpBackslashSingleQuote">\\</span><span title="phpStringSingle "class="phpStringSingle">\])%#&#39;</span><span title="phpRegion "class="phpRegion">, </span><span title="phpStringSingle "class="phpStringSingle">&#39;$1.*&#39;</span><span title="phpRegion "class="phpRegion">, </span><span title="phpFunctions "class="phpFunctions">preg_quote</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">value</span><span title="phpParent "class="phpParent">))</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">173</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">plain_value</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">value</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">174</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">175</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpComment "class="phpComment">// Convert like to regular expression.
</span><span title="LineNr "class="LineNr">176</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpConditional "class="phpConditional">if</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">(</span><span title="phpOperator "class="phpOperator">!</span><span title="phpRegion "class="phpRegion">Str</span><span title="phpOperator "class="phpOperator">::</span><span title="phpRegion "class="phpRegion">startsWith</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">value</span><span title="phpRegion "class="phpRegion">, </span><span title="phpStringSingle "class="phpStringSingle">&#39;%&#39;</span><span title="phpParent "class="phpParent">))</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">177</span>  <span title="phpRegion "class="phpRegion">                </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">regex</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpStringSingle "class="phpStringSingle">&#39;^&#39;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">.</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">regex</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">178</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpParent "class="phpParent">}</span><span title="phpRegion "class="phpRegion"> </span><span title="phpConditional "class="phpConditional">else</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">179</span>  <span title="phpRegion "class="phpRegion">                </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">plain_value</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> Str</span><span title="phpOperator "class="phpOperator">::</span><span title="phpRegion "class="phpRegion">replaceFirst</span><span title="phpParent "class="phpParent">(</span><span title="phpStringSingle "class="phpStringSingle">&#39;%&#39;</span><span title="phpRegion "class="phpRegion">, </span><span title="phpType "class="phpType">null</span><span title="phpRegion "class="phpRegion">, </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">plain_value</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">180</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">181</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpConditional "class="phpConditional">if</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">(</span><span title="phpOperator "class="phpOperator">!</span><span title="phpRegion "class="phpRegion">Str</span><span title="phpOperator "class="phpOperator">::</span><span title="phpRegion "class="phpRegion">endsWith</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">value</span><span title="phpRegion "class="phpRegion">, </span><span title="phpStringSingle "class="phpStringSingle">&#39;%&#39;</span><span title="phpParent "class="phpParent">))</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">182</span>  <span title="phpRegion "class="phpRegion">                </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">regex</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">.&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpStringSingle "class="phpStringSingle">&#39;$&#39;</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">183</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpParent "class="phpParent">}</span><span title="phpRegion "class="phpRegion"> </span><span title="phpConditional "class="phpConditional">else</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">184</span>  <span title="phpRegion "class="phpRegion">                </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">plain_value</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> Str</span><span title="phpOperator "class="phpOperator">::</span><span title="phpRegion "class="phpRegion">replaceLast</span><span title="phpParent "class="phpParent">(</span><span title="phpStringSingle "class="phpStringSingle">&#39;%&#39;</span><span title="phpRegion "class="phpRegion">, </span><span title="phpType "class="phpType">null</span><span title="phpRegion "class="phpRegion">, </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">plain_value</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">185</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">186</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">187</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">is_numeric</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpFunctions "class="phpFunctions">is_numeric</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">plain_value</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">188</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">value</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpDefine "class="phpDefine">new</span><span title="phpRegion "class="phpRegion"> Regex</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">regex</span><span title="phpRegion "class="phpRegion">, </span><span title="phpStringSingle "class="phpStringSingle">&#39;i&#39;</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">189</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpParent "class="phpParent">}</span><span title="phpRegion "class="phpRegion"> </span><span title="phpComment "class="phpComment">// Manipulate regexp operations.
</span><span title="LineNr "class="LineNr">190</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpConditional "class="phpConditional">elseif</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">(</span><span title="phpFunctions "class="phpFunctions">in_array</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">operator</span><span title="phpRegion "class="phpRegion">, </span><span title="phpParent "class="phpParent">[</span><span title="phpStringSingle "class="phpStringSingle">&#39;regexp&#39;</span><span title="phpRegion "class="phpRegion">, </span><span title="phpStringSingle "class="phpStringSingle">&#39;not regexp&#39;</span><span title="phpRegion "class="phpRegion">, </span><span title="phpStringSingle "class="phpStringSingle">&#39;regex&#39;</span><span title="phpRegion "class="phpRegion">, </span><span title="phpStringSingle "class="phpStringSingle">&#39;not regex&#39;</span><span title="phpParent "class="phpParent">]))</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">191</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpComment "class="phpComment">// Automatically convert regular expression strings to Regex objects.
</span><span title="LineNr "class="LineNr">192</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpConditional "class="phpConditional">if</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">(</span><span title="phpOperator "class="phpOperator">!</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">value</span><span title="phpRegion "class="phpRegion"> </span><span title="phpComparison "class="phpComparison">instanceof</span><span title="phpRegion "class="phpRegion"> Regex</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">193</span>  <span title="phpRegion "class="phpRegion">                </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">e</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpFunctions "class="phpFunctions">explode</span><span title="phpParent "class="phpParent">(</span><span title="phpStringSingle "class="phpStringSingle">&#39;/&#39;</span><span title="phpRegion "class="phpRegion">, </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">value</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">194</span>  <span title="phpRegion "class="phpRegion">                </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">flag</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpFunctions "class="phpFunctions">end</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">e</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">195</span>  <span title="phpRegion "class="phpRegion">                </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">regstr</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpFunctions "class="phpFunctions">substr</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">value</span><span title="phpRegion "class="phpRegion">, </span><span title="phpNumber "class="phpNumber">1</span><span title="phpRegion "class="phpRegion">, </span><span title="phpOperator "class="phpOperator">-</span><span title="phpParent "class="phpParent">(</span><span title="phpFunctions "class="phpFunctions">strlen</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">flag</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">+</span><span title="phpRegion "class="phpRegion"> </span><span title="phpNumber "class="phpNumber">1</span><span title="phpParent "class="phpParent">))</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">196</span>  <span title="phpRegion "class="phpRegion">                </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">value</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpDefine "class="phpDefine">new</span><span title="phpRegion "class="phpRegion"> Regex</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">regstr</span><span title="phpRegion "class="phpRegion">, </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">flag</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">197</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">198</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">199</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpComment "class="phpComment">// For inverse regexp operations, we can just use the $not operator
</span><span title="LineNr "class="LineNr">200</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpComment "class="phpComment">// and pass it a Regex instence.
</span><span title="LineNr "class="LineNr">201</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpConditional "class="phpConditional">if</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">(</span><span title="phpRegion "class="phpRegion">Str</span><span title="phpOperator "class="phpOperator">::</span><span title="phpRegion "class="phpRegion">startsWith</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">operator</span><span title="phpRegion "class="phpRegion">, </span><span title="phpStringSingle "class="phpStringSingle">&#39;not&#39;</span><span title="phpParent "class="phpParent">))</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">202</span>  <span title="phpRegion "class="phpRegion">                </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">operator</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpStringSingle "class="phpStringSingle">&#39;not&#39;</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">203</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">204</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">205</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">206</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpConditional "class="phpConditional">if</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">(</span><span title="phpOperator "class="phpOperator">!</span><span title="phpSpecialFunction "class="phpSpecialFunction">isset</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">operator</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">||</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">operator</span><span title="phpRegion "class="phpRegion"> </span><span title="phpComparison "class="phpComparison">&#61;&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpStringSingle "class="phpStringSingle">&#39;&#61;&#39;</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">207</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpConditional "class="phpConditional">if</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">is_numeric</span><span title="phpParent "class="phpParent">)</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">208</span>  <span title="phpRegion "class="phpRegion">                </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">query</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">[</span><span title="phpStringSingle "class="phpStringSingle">&#39;$where&#39;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRelation "class="phpRelation">&gt;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpStringSingle "class="phpStringSingle">&#39;/^&#39;</span><span title="phpOperator "class="phpOperator">.</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">value</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">getPattern</span><span title="phpParent "class="phpParent">()</span><span title="phpOperator "class="phpOperator">.</span><span title="phpStringSingle "class="phpStringSingle">&#39;/.test(this[&quot;&#39;</span><span title="phpOperator "class="phpOperator">.</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">column</span><span title="phpOperator "class="phpOperator">.</span><span title="phpStringSingle "class="phpStringSingle">&#39;&quot;])&#39;</span><span title="phpParent "class="phpParent">]</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">209</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpParent "class="phpParent">}</span><span title="phpRegion "class="phpRegion"> </span><span title="phpConditional "class="phpConditional">else</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">210</span>  <span title="phpRegion "class="phpRegion">                </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">query</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">[</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">column</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRelation "class="phpRelation">&gt;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">value</span><span title="phpParent "class="phpParent">]</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">211</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">212</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpParent "class="phpParent">}</span><span title="phpRegion "class="phpRegion"> </span><span title="phpConditional "class="phpConditional">elseif</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">(</span><span title="phpFunctions "class="phpFunctions">array_key_exists</span><span title="phpParent "class="phpParent">(</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">operator</span><span title="phpRegion "class="phpRegion">, </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">conversion</span><span title="phpParent "class="phpParent">))</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">213</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">query</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">[</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">column</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRelation "class="phpRelation">&gt;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">[</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">this</span><span title="phpMemberSelector "class="phpMemberSelector">-&gt;</span><span title="phpMethodsVar "class="phpMethodsVar">conversion</span><span title="phpParent "class="phpParent">[</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">operator</span><span title="phpParent "class="phpParent">]</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRelation "class="phpRelation">&gt;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">value</span><span title="phpParent "class="phpParent">]]</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">214</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpParent "class="phpParent">}</span><span title="phpRegion "class="phpRegion"> </span><span title="phpConditional "class="phpConditional">else</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">{
</span><span title="LineNr "class="LineNr">215</span>  <span title="phpRegion "class="phpRegion">            </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">query</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">[</span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">column</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRelation "class="phpRelation">&gt;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpParent "class="phpParent">[</span><span title="phpStringSingle "class="phpStringSingle">&#39;$&#39;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">.</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">operator</span><span title="phpRegion "class="phpRegion"> </span><span title="phpOperator "class="phpOperator">&#61;</span><span title="phpRelation "class="phpRelation">&gt;</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">value</span><span title="phpParent "class="phpParent">]]</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">216</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr">217</span>  <span title="Normal "class="Normal">
</span><span title="LineNr "class="LineNr">218</span>  <span title="phpRegion "class="phpRegion">        </span><span title="phpStatement "class="phpStatement">return</span><span title="phpRegion "class="phpRegion"> </span><span title="phpVarSelector "class="phpVarSelector">$</span><span title="phpIdentifier "class="phpIdentifier">query</span><span title="phpRegion "class="phpRegion">;
</span><span title="LineNr "class="LineNr">219</span>  <span title="phpRegion "class="phpRegion">    </span><span title="phpParent "class="phpParent">}
</span><span title="LineNr "class="LineNr last-LineNr">220</span>  <span title="phpParent "class="phpParent">}</span>